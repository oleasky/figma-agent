---
phase: 7-skills-install
plan: 01
type: execute
---

<objective>
Create the three core design-to-code Claude Code skills: interpret-layout, generate-react, and generate-html.

Purpose: These are the primary skills that consume the design-to-code knowledge modules (Phases 3-4) to help Claude interpret Figma designs and generate production code.
Output: Three skill files in `commands/figma/` ready for installation.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Skill format reference (existing skill for structure):
# ~/.claude/skills/frontend-design/SKILL.md — YAML frontmatter (name, description) + markdown instructions

# Knowledge modules these skills will @reference:
@knowledge/design-to-code-layout.md
@knowledge/design-to-code-visual.md
@knowledge/design-to-code-typography.md
@knowledge/design-to-code-assets.md
@knowledge/design-to-code-semantic.md
@knowledge/css-strategy.md
@knowledge/design-tokens.md
@knowledge/design-tokens-variables.md
@knowledge/figma-api-rest.md

# Conventions:
@commands/figma/README.md
@knowledge/README.md

**Established patterns:**
- Knowledge module naming: `{domain}-{topic}.md`
- Skill invocation target: `/figma:skill-name` (project README convention)
- Actual Claude Code skill format: `SKILL.md` with YAML frontmatter + markdown body
- Source files live in `commands/figma/{skill-name}.md` — install script will symlink to `~/.claude/skills/figma-{name}/SKILL.md`
- Skills should @reference knowledge modules using absolute paths from the repo root (installer will resolve)
- Skills take user input via `$ARGUMENTS` placeholder

**Constraining decisions:**
- [Phase 1]: Module structure: title → purpose → when-to-use → content → cross-refs
- [Phase 3]: Three-layer CSS: Tailwind + Custom Props + Modules
- [Phase 3]: BEM flat hierarchy: never block__element__sub
- [Phase 3]: Image exports at 2x minimum for retina
- [Phase 4]: Token extraction priority: Variables API > styles > file traversal > Plugin API
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create interpret-layout skill</name>
  <files>commands/figma/interpret-layout.md</files>
  <action>
Create the interpret-layout skill that helps Claude interpret Figma Auto Layout properties and generate correct CSS Flexbox. The skill should:

1. YAML frontmatter: name `figma-interpret-layout`, description for when user has Figma Auto Layout data and needs CSS Flexbox interpretation.
2. Accept `$ARGUMENTS` as Figma node JSON data (Auto Layout properties).
3. Reference `knowledge/design-to-code-layout.md` as the primary knowledge source.
4. Process steps:
   - Parse Auto Layout properties (layoutMode, primaryAxisAlignItems, counterAxisAlignItems, itemSpacing, paddingLeft/Right/Top/Bottom, layoutSizingHorizontal, layoutSizingVertical, layoutWrap)
   - Apply sizing mode rules: HUG → width:auto/fit-content, FILL → flex:1, FIXED → explicit px
   - Handle alignment mapping (MIN/CENTER/MAX/SPACE_BETWEEN → flex alignment)
   - Handle wrap mode (layoutWrap: WRAP → flex-wrap:wrap with counterAxisSpacing as gap)
   - Handle constraints for non-Auto-Layout frames
   - Output: CSS properties (display:flex, flex-direction, align-items, justify-content, gap, padding, sizing)
5. Output format: CSS properties with explanatory comments showing the Figma→CSS mapping.

Do NOT include the full knowledge module content in the skill — @reference it. The skill is the instruction set; the knowledge module is the reference data.
  </action>
  <verify>File exists at commands/figma/interpret-layout.md with YAML frontmatter and structured process</verify>
  <done>Skill file has: frontmatter (name, description), objective, input format, process steps referencing knowledge module, output specification</done>
</task>

<task type="auto">
  <name>Task 2: Create generate-react skill</name>
  <files>commands/figma/generate-react.md</files>
  <action>
Create the generate-react skill that generates production-grade React/TSX components from Figma node data. The skill should:

1. YAML frontmatter: name `figma-generate-react`, description for generating React components from Figma designs.
2. Accept `$ARGUMENTS` as Figma node JSON or a description of the Figma component to convert.
3. Reference multiple knowledge modules:
   - `knowledge/design-to-code-layout.md` (flexbox mapping)
   - `knowledge/design-to-code-visual.md` (fills, strokes, effects)
   - `knowledge/design-to-code-typography.md` (text styles)
   - `knowledge/design-to-code-assets.md` (images, SVGs)
   - `knowledge/design-to-code-semantic.md` (HTML elements, BEM, ARIA)
   - `knowledge/css-strategy.md` (three-layer CSS approach)
4. Process steps:
   - Analyze node tree structure (identify component boundaries)
   - Determine semantic HTML elements (from semantic module)
   - Extract layout (Auto Layout → Flexbox)
   - Extract visual properties (fills, strokes, effects, corners)
   - Extract typography (font styles, line height, letter spacing)
   - Handle assets (vector containers → SVG inline/component, images → img/picture)
   - Generate CSS using three-layer approach (Tailwind layout + CSS vars tokens + CSS Modules skin)
   - Generate BEM class names (flat hierarchy, no block__element__sub)
   - Generate TypeScript interfaces for component props
   - Generate React function component with proper types
5. Output format: Complete .tsx file + .module.css file (or Tailwind classes).

Key rules to encode in the skill:
- INSIDE strokes → box-shadow: inset (not border)
- Gradient angle: 90 - figmaAngle for CSS
- Line height: always unitless ratio (lineHeightPx / fontSize)
- Images: 2x minimum for retina
- Never nest BEM deeper than block__element
  </action>
  <verify>File exists at commands/figma/generate-react.md with frontmatter and comprehensive process</verify>
  <done>Skill references all 6 design-to-code + CSS strategy knowledge modules, has clear process for full component generation</done>
</task>

<task type="auto">
  <name>Task 3: Create generate-html skill</name>
  <files>commands/figma/generate-html.md</files>
  <action>
Create the generate-html skill that generates semantic HTML + layered CSS from Figma node data. The skill should:

1. YAML frontmatter: name `figma-generate-html`, description for generating semantic HTML/CSS from Figma designs.
2. Accept `$ARGUMENTS` as Figma node JSON or component description.
3. Reference the same knowledge modules as generate-react, plus `knowledge/design-tokens.md` for token extraction.
4. Process steps:
   - Same analysis pipeline as generate-react (layout, visual, typography, assets)
   - Generate semantic HTML5 elements (not just divs)
   - Generate layered CSS:
     * Layer 1 (Tailwind): structural layout (flex, spacing, sizing via utility classes)
     * Layer 2 (CSS Custom Properties): design tokens (colors, typography, spacing scales)
     * Layer 3 (CSS Modules): visual skin (Figma-specific styles)
   - Generate BEM class names
   - Include ARIA attributes where semantically appropriate
   - Handle responsive breakpoints if Figma frame variants detected
5. Output format: .html file + .css file (or inline styles), with clear layer separation comments.

Key difference from generate-react: This skill outputs vanilla HTML+CSS (no React, no JSX, no TypeScript). Useful for static sites, email templates, or framework-agnostic output.
  </action>
  <verify>File exists at commands/figma/generate-html.md with frontmatter and process</verify>
  <done>Skill generates HTML+CSS (not React), references appropriate knowledge modules, uses three-layer CSS approach</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All three skill files exist in commands/figma/
- [ ] Each has valid YAML frontmatter (name, description)
- [ ] Each @references appropriate knowledge modules
- [ ] Each has clear process steps and output format
- [ ] No duplication of knowledge module content (skills reference, not copy)
- [ ] generate-react and generate-html are clearly differentiated (React/TSX vs vanilla HTML)
</verification>

<success_criteria>
- Three skill files created: interpret-layout.md, generate-react.md, generate-html.md
- Each follows Claude Code SKILL.md conventions (YAML frontmatter + markdown)
- Each references relevant knowledge modules by path
- Each has: objective, input, process, output sections
- Skills are instructions for Claude, not duplicated knowledge
</success_criteria>

<output>
After completion, create `.planning/phases/7-skills-install/07-01-SUMMARY.md`
</output>
